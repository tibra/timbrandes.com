<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2019-02-14T13:44:48+01:00</updated><id>/</id><title type="html">Tim Brandes</title><subtitle>A personal collection of essays and technical programming guides. I co-run my software company Zinkler &amp; Brandes and coach young soccer goalkeepers in Hannover, Germany.</subtitle><entry><title type="html">Amateurs demand – Professionals require.</title><link href="/essay/2019/02/14/amateurs-demand-professionals-require/" rel="alternate" type="text/html" title="Amateurs demand – Professionals require." /><published>2019-02-14T13:37:00+01:00</published><updated>2019-02-14T13:37:00+01:00</updated><id>/essay/2019/02/14/amateurs-demand-professionals-require</id><content type="html" xml:base="/essay/2019/02/14/amateurs-demand-professionals-require/">&lt;p&gt;Sometimes it’s me who demands, sometimes it’s a client or a contractor. We demand a new feature to be shipped on a specific date, a contract to be written in a certain way or a family member to perform a task for us. I’ve picked up the saying “amateurs demand – professionals require” some years ago and I often refer to it when I encounter a personal or business confrontation. Demanding instantly introduces hierachy, like the king who demands of his subordinates or the principal of his agent.&lt;/p&gt;

&lt;p&gt;Requiring on the other hand is an invitation to listen and understand the underlying needs. It’s the first step to build a partnership, to help each other achieve a goal – rather than builing a wall that seperates us from each other. Demanding only touches the &lt;em&gt;what&lt;/em&gt; and sometimes the &lt;em&gt;how&lt;/em&gt;. But even in total disagreement, requiring invites to a mutual discussion about the &lt;em&gt;why&lt;/em&gt; and helps finding a peaceful solution.&lt;/p&gt;</content><author><name></name></author><summary type="html">Sometimes it’s me who demands, sometimes it’s a client or a contractor. We demand a new feature to be shipped on a specific date, a contract to be written in a certain way or a family member to perform a task for us. I’ve picked up the saying “amateurs demand – professionals require” some years ago and I often refer to it when I encounter a personal or business confrontation. Demanding instantly introduces hierachy, like the king who demands of his subordinates or the principal of his agent.</summary></entry><entry><title type="html">Debugging missing remote clients in Uchiwa with Sensu, RabbitMQ and Redis</title><link href="/guide/2015/11/25/debugging-missing-remote-clients-in-uchiwa-with-sensu-rabbitmq-and-redis/" rel="alternate" type="text/html" title="Debugging missing remote clients in Uchiwa with Sensu, RabbitMQ and Redis" /><published>2015-11-25T10:20:00+01:00</published><updated>2015-11-25T10:20:00+01:00</updated><id>/guide/2015/11/25/debugging-missing-remote-clients-in-uchiwa-with-sensu-rabbitmq-and-redis</id><content type="html" xml:base="/guide/2015/11/25/debugging-missing-remote-clients-in-uchiwa-with-sensu-rabbitmq-and-redis/">&lt;h2 id=&quot;the-10-hours-bug-hunt-because-of-a-missing-comma-aka-understand-the-system-to-debug-your-configuration&quot;&gt;The 10 hours bug hunt because of a missing comma aka understand the system to debug your configuration&lt;/h2&gt;

&lt;p&gt;It all happend once my sensu-server was all set up and functioning well. The local sensu-client shows up in a dashboard and I moved on to configure the first remote client. So I’ve closely followed (in retrospect multiple times) the documentation on how to install and configure the sensu-client. I’ve self-signed the SSL certificates on the sensu-server, distributed the client.key and client.pem files to the server and even managed to install the client directly with the &lt;a href=&quot;https://github.com/sensu/sensu-chef&quot;&gt;sensu-chef Cookbook&lt;/a&gt;. Then, I restarted the client and looked at the Uchiwa Dashboard on the server: nothing except my local client. I’ve restarted all services on the server like api, server, uchiwa in case I had miss-interpreted how Sensu works and which philosophy it follows. Unfurtunately to the effect of: nothing. The remote just wouldn’t show up. So searching the Internet began and with it some suggestions which log files to consult for help.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2015-11-sensu.png&quot;&gt;&lt;img src=&quot;/assets/2015-11-sensu.png&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;make-sure-ssl-is-setup-correctly&quot;&gt;Make sure SSL is setup correctly&lt;/h3&gt;
&lt;p&gt;Since all my remote clients should talk to the sensu master server via SSL, I wanted to make sure this SSL connection with self-signed certs would work as I intented. It did not, instead, I was getting TLS handshake failures all over the RabbitMQ logs. By the way, each sensu-client has a config hash that specifies how it talks to RabbitMQ on the sensu master server. The remote client will talk directly to RabbitMQ, so this is probably a good first place to look for failures when a remote client doesn’t show up in Uchiwa. On the client, I was checking the sensu-client logs unter &lt;em&gt;/var/log/sensu/sensu-client.log&lt;/em&gt;. It said something like &lt;em&gt;reconnecting to transport&lt;/em&gt; and just hang there. The RabbitMQ logs on the server under &lt;em&gt;/var/log/rabbitmq/rabbit@sensu.log&lt;/em&gt; displayed the TLS error.&lt;/p&gt;

&lt;p&gt;And this is how it looked like on the remote client&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T11:17:04.318751+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;loading config file&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;file&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;/etc/sensu/config.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T11:17:04.318847+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;loading config files from directory&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;directory&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;/etc/sensu/conf.d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T11:17:04.321103+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;loading extension files from directory&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;directory&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;/etc/sensu/extensions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T11:17:04.407738+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;reconnecting to transport&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T11:22:14.426687+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;[amqp] Detected TCP connection failure&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here is the RabbitMQ Server log&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;INFO&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;REPORT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;====&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Nov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;33&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;accepting&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AMQP&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.248&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SENSU_REMOTE_CLIENT_IP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;33954&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SENSU_SERVER_IP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5671&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ERROR&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;REPORT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;====&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Nov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;33&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Error&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AMQP&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.244&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ssl_upgrade_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tls_alert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;record overflow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So instead of cheating by telling RabbitMQ to not validate my certs, I’ve set them up from scratch again. This time it worked. So it was probably a mistake on my side where I falsly copied some files or forgot a step. It looked like this now:&lt;/p&gt;

&lt;p&gt;Sensu remote client log&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:09.656492+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;reconnected to transport&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:10.657438+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;scheduling keepalives&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:10.657671+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;publishing keepalive&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;payload&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;errbit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;address&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;subscriptions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ALL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;0.20.6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1448282830&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:10.658116+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;subscribing to client subscriptions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:10.658210+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;subscribing to a subscription&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;subscription&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;ALL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:10.658602+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;scheduling standalone checks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T13:47:30.658960+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;publishing keepalive&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;payload&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;errbit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;address&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;subscriptions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ALL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;0.20.6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1448282850&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;RabbitMQ Server log&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;INFO&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;REPORT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;====&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Nov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;47&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;08&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;accepting&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AMQP&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.301&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;SENSU_REMOTE_CLIENT_IP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;34272&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;SENSU_MASTER_SERVER_IP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5671&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;however-the-sensu-remote-client-was-still-not-visible-in-uchiwa&quot;&gt;However, the sensu remote client was still not visible in Uchiwa&lt;/h2&gt;

&lt;p&gt;So this is where things seemed so strange to me that after I’ve spent another 4 hours looking for clues on what was wrong with my setup, I’ve decided to check in to the #sensu IRC channel. &lt;em&gt;rob_&lt;/em&gt; was kind and pointed me towards redis and run “redis-cli keys ‘*’” on the sensu server to check if redis was saving anything for that client. It did not, the name of name remote sensu client wasn’t in that list. Since a remote client talks to the Sensu API which again talks to Redis-Server (thank you &lt;em&gt;warmfusion&lt;/em&gt; for helping get the connections right on IRC), something was probably wrong on the transport between the remote client and the sensu server. But this was OK, however, still no remote client in sensu. I’ve decided to head over to the sensu master server again. Then, in the sensu-server log it hit me:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;timestamp&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;2015-11-23T17:30:42.501290+0100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;config file must be valid json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;file&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;/etc/sensu/config.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:&quot;parse error: after key and value, inside map, I expect ',' or '}'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;          ,     &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;vhost&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;/sensu&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;: {       &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;cert_chain_file&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;\n&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;                     (right here) ------^&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Checking the &lt;em&gt;/etc/sensu/config.json&lt;/em&gt;, I’ve added the missing comma, restarted the server via &lt;em&gt;service sensu-server restart&lt;/em&gt; and everything was well and good. Still, I can’t believe why the system didn’t warn me about it, I’ve used the restarting service command a dozen times at least that day.  So my takeaway from this is: if anything seems strange, check ALL the log files from sensu, redis, rabbitmq and the sensu-client first and don’t from hypothesis about was might be wrong when the fault isn’t isolated well enough.&lt;/p&gt;

&lt;p&gt;The resulting diagramm shows not only the interplay of the sensu master server and the sensu remote clients but also the integration of configuration management (chef/puppet) and how to use the sensu community plugins in a DRY-way. I’ll might follow up with another post on that topic soon.&lt;/p&gt;</content><author><name></name></author><summary type="html">The 10 hours bug hunt because of a missing comma aka understand the system to debug your configuration</summary></entry><entry><title type="html">Optimize BibDesk, Multimarkdown and Scrivener for a nice scientific bibliography and citation workflow</title><link href="/guide/2014/04/08/optimize-bibdesk-multimarkdown-and-scrivener-for-a-nice-scientific-bibliography-and-citation-workflow/" rel="alternate" type="text/html" title="Optimize BibDesk, Multimarkdown and Scrivener for a nice scientific bibliography and citation workflow" /><published>2014-04-08T08:00:00+02:00</published><updated>2014-04-08T08:00:00+02:00</updated><id>/guide/2014/04/08/optimize-bibdesk-multimarkdown-and-scrivener-for-a-nice-scientific-bibliography-and-citation-workflow</id><content type="html" xml:base="/guide/2014/04/08/optimize-bibdesk-multimarkdown-and-scrivener-for-a-nice-scientific-bibliography-and-citation-workflow/">&lt;p&gt;To me, writing academic papers directly in LaTeX feels like I develop a software program. I have a hard time bringing my ideas to understandable sentences when I see so many brackets and backslashes. Multimarkdown (MMD) is a good combination of both worlds, content can be written without much syntactical noise and there is still structure. With the help of Scrivener, the workflow and organization of the MMD files becomes comfortable. Writing academic content, there is actually no excuse not to use a bibliography tool. Personally, I like BibDesk. It is open source, has a clean user interface and just enough options to categorize the material without being to overloaded. However, BibDesk was designed to work well with LaTeX. I tweaked BibDesk to fit into the MMD workflow.&lt;/p&gt;

&lt;h2 id=&quot;scientific-multimarkdown-citations-to-latex&quot;&gt;Scientific Multimarkdown citations to LaTeX&lt;/h2&gt;

&lt;p&gt;The &lt;a href=&quot;http://fletcher.github.io/peg-multimarkdown/mmd-manual.pdf&quot;&gt;official MMD documentation&lt;/a&gt; by Fletcher Penny is a good source for the conversion rules and possibilities of MMD cite keys to LaTeX citation rules. I’ll show the application his examples here. Since I mostly write within the psychological rules, the final output after the LaTeX conversion is according to the “apacite” LaTeX package (see my &lt;a href=&quot;http://timbrandes.com/blog/2012/02/28/howto-write-your-thesis-in-latex-using-scrivener-2-multimarkdown-3-and-bibdesk/&quot;&gt;previous Scrivener article&lt;/a&gt; for further information). Here is how I want the input and output to convert to:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;[#webster_2002a] —&amp;gt; (Webster 2002)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[p. 49][#webster_2002a] —&amp;gt; (Webster, 2002, p. 46)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[take a look at\]\[][#webster_2002a] —&amp;gt; (take a look at Webster, 2002)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[take a look at\]\[p. 49][#webster_2002a] —&amp;gt; (take a look at Webster, 2002, p. 46)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[#webster_2002a, smith_1999a] —&amp;gt; (Webster, 2002; Smith 1999)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;By adding a semicolon to before a closing bracket, we can create an inline citation:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;[p. 49][#webster_2002a;] —&amp;gt; Webster (2002, p. 46)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;auto-generate-bibdesk-cite-keys&quot;&gt;Auto-generate BibDesk cite keys&lt;/h2&gt;

&lt;p&gt;Every time you add a new publication to your BibDesk collection, you are prompted to fill in the cite key yourself. While this is usually a quick thing, it often leads to inconsistencies with the naming. Did you know BibDesk can auto-generate that key based on attributes you fill in, like author and year?
Enter &lt;em&gt;Preferences &amp;gt; Cite Key &amp;gt; and Check ‘Autogenerate the cite key when enough fields are supplied’&lt;/em&gt;. I have clicked on advanced and set the &lt;em&gt;Preset Format&lt;/em&gt; to &lt;em&gt;Custom&lt;/em&gt; and I use this Format String: &lt;em&gt;%a2_%Y%u1&lt;/em&gt;. Furthermore I checked the option &lt;em&gt;Generate lowercase cite keys&lt;/em&gt;. My cite keys will have the first to authors, an underscore followed by the year and an indicator from a-z. A publication from McCracken and Maxwell from 2004 would result in a cite key like:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;mccrackenmaxwell_2004a&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;/assets/2014-04-bibdesk3.jpg&quot;&gt;&lt;img src=&quot;/assets/2014-04-bibdesk3_p.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;copy-mmd-cite-keys-directly-from-bibdesk-to-scrivener&quot;&gt;Copy MMD cite keys directly from BibDesk to Scrivener&lt;/h2&gt;

&lt;p&gt;Now each and every time you cite something in your Scrivener, ie. MMD file, you would have to look up the corresponding cite key in BibDesk, open a square bracket, add a hash symbol and the type in the key. This demotivates me from citing a lot, which must be improved. I’d like to use &lt;em&gt;Alt+CMD+C&lt;/em&gt; to copy the MMD cite key and just paste it into my MMD file with &lt;em&gt;CMD+V&lt;/em&gt;. The output should look like this:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;[#mccrackenmaxwell_2004a]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;BibDesk has a neat feature called Templates. Here is how we will be able to &lt;em&gt;Alt+CMD+C&lt;/em&gt; the cite key in MMD format:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Define a custom template&lt;/li&gt;
  &lt;li&gt;Add this template to BibDesk&lt;/li&gt;
  &lt;li&gt;Create the &lt;em&gt;Alt+CMD+C&lt;/em&gt; shortcut&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;1-define-a-custom-template&quot;&gt;1. Define a custom template&lt;/h3&gt;
&lt;p&gt;Open your finder, click &lt;em&gt;Shift+CMD+G&lt;/em&gt; (in Menu: &lt;em&gt;Go &amp;gt; Go to Folder&lt;/em&gt;) and go there:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;~/Library/Application Support/BibDesk/Templates&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Add a new file there, you can name it “mmdCiteKey.txt” and enter this content:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;[#&amp;lt;$publications.citeKey.@componentsJoinedByComma/&amp;gt;]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;2-add-this-template-to-bibdesk&quot;&gt;2. Add this template to BibDesk&lt;/h3&gt;
&lt;p&gt;In BibDesk, go to &lt;em&gt;Preferences &amp;gt; Templates&lt;/em&gt;. Click the small &lt;em&gt;+&lt;/em&gt; Button on the bottom right and double click the red words to add a new file. Choose your new “mmdCiteKey.txt”. Your result should look like this:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;/assets/2014-04-bibdesk2.jpg&quot;&gt;&lt;img src=&quot;/assets/2014-04-bibdesk2_p.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;3-create-the-altcmdc-shortcut&quot;&gt;3. Create the &lt;em&gt;Alt+CMD+C&lt;/em&gt; shortcut&lt;/h3&gt;
&lt;p&gt;By now, from within BibDesk, you can just go to &lt;em&gt;Edit &amp;gt; Copy As &amp;gt; Template &amp;gt; mmdCiteKey&lt;/em&gt; or you right click an article and choose &lt;em&gt;Copy Using Template &amp;gt; mmdCiteKey&lt;/em&gt;. If this is fine for you and you use your mouse more often than you use your keyboard, go with the right click option. Everyone else who wants to be really fast, follow me one more step. Go to you Mac System Preferences (click the Apple on the top left and then Preferences). Go to &lt;em&gt;Keyboard &amp;gt; Shortcuts&lt;/em&gt; and pick &lt;em&gt;App Shortcuts&lt;/em&gt; on the bottom left of the list. Click the &lt;em&gt;+&lt;/em&gt; button and find the BibDesk application. For the menu title enter&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Edit-&amp;gt;Copy As-&amp;gt;Template-&amp;gt;mmdCiteKey&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and for the Keyboard Shortcut press &lt;em&gt;ALT+CMD+C&lt;/em&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;/assets/2014-04-bibdesk1.jpg&quot;&gt;&lt;img src=&quot;/assets/2014-04-bibdesk1_p.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Now go to BibDesk, click on an article and press &lt;em&gt;ALT+CMD+C&lt;/em&gt;. Paste it anywhere with CMD+V and enjoy your output:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;[#mccrackenmaxwell_2004a].&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;bonus-tip-1&quot;&gt;Bonus Tip 1&lt;/h3&gt;
&lt;p&gt;You can even select multiple authors, it will automatically insert all of them like:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;[#mccrackenmaxwell_2004a, smith_1999a]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;bonus-tip-2&quot;&gt;Bonus Tip 2&lt;/h3&gt;
&lt;p&gt;I’ve built multiple templates for all kind of purposes: inline citations, append, prepend, everything that improves your workflow is worth it. Just go the folder with the templates and create new files.&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;/assets/2014-04-bibdesk4.jpg&quot;&gt;&lt;img src=&quot;/assets/2014-04-bibdesk4_p.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here is how my new custom templates look like:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;mmdCiteKey_append.txt:
&lt;br /&gt;
[S. ][#&amp;lt;$publications.citeKey.@componentsJoinedByComma/&amp;gt;]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;mmdCiteKey_inline_append.txt:
&lt;br /&gt;
[S. ][#&amp;lt;$publications.citeKey.@componentsJoinedByComma/&amp;gt;;]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;mmdCiteKey_prepend.txt:
&lt;br /&gt;
[vgl.][][#&amp;lt;$publications.citeKey.@componentsJoinedByComma/&amp;gt;]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;mmdCiteKey.txt:
&lt;br /&gt;
[#&amp;lt;$publications.citeKey.@componentsJoinedByComma/&amp;gt;]&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name></name></author><summary type="html">To me, writing academic papers directly in LaTeX feels like I develop a software program. I have a hard time bringing my ideas to understandable sentences when I see so many brackets and backslashes. Multimarkdown (MMD) is a good combination of both worlds, content can be written without much syntactical noise and there is still structure. With the help of Scrivener, the workflow and organization of the MMD files becomes comfortable. Writing academic content, there is actually no excuse not to use a bibliography tool. Personally, I like BibDesk. It is open source, has a clean user interface and just enough options to categorize the material without being to overloaded. However, BibDesk was designed to work well with LaTeX. I tweaked BibDesk to fit into the MMD workflow.</summary></entry><entry><title type="html">How to write your Thesis in LaTeX with Scrivener 2, MultiMarkdown 3 and BibDesk</title><link href="/guide/2012/02/28/howto-write-your-thesis-in-latex-using-scrivener-2-multimarkdown-3-and-bibdesk/" rel="alternate" type="text/html" title="How to write your Thesis in LaTeX with Scrivener 2, MultiMarkdown 3 and BibDesk" /><published>2012-02-28T23:50:00+01:00</published><updated>2012-02-28T23:50:00+01:00</updated><id>/guide/2012/02/28/howto-write-your-thesis-in-latex-using-scrivener-2-multimarkdown-3-and-bibdesk</id><content type="html" xml:base="/guide/2012/02/28/howto-write-your-thesis-in-latex-using-scrivener-2-multimarkdown-3-and-bibdesk/">&lt;h2 id=&quot;the-pros-and-cons-of-latex&quot;&gt;The pros and cons of LaTeX&lt;/h2&gt;

&lt;p&gt;When you are dealing with rather large chunks of text that should become a thesis, a manual or whatnot, having to deal with MS Word or Pages might not be the best experience. During the writing process, I often find myself dealing with all kinds of formatting related tasks. Not only does this distract me from writing good content, it also leaves me with just one long document. Keeping track of all the chapters and their relations to each other can be a real pain when you have more than a couple of thousand words. At this point, &lt;a href=&quot;http://www.literatureandlatte.com/scrivener.php&quot;&gt;Scrivener&lt;/a&gt; comes in as a great writing tool. Basically, Scrivener lets you organize your chapters and sub-texts in a tree-like project drawer. &lt;a href=&quot;http://www.jasonshafer.net/?p=177&quot;&gt;Jason Shafer&lt;/a&gt; has a good post about the &lt;em&gt;why&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Writing LaTeX directly can be like writing source code and for most people it might not be the optimal environment for creating texts. For &lt;em&gt;outputting&lt;/em&gt; and &lt;em&gt;typesetting&lt;/em&gt; however, LaTeX is super cool. Not only will you have sugar-sweet PDF, you can manage and change your whole citation and bibliohraphy style literally with one command. So, before we look into the relationship between Scrivener and LaTeX, let’s first check the requirements for an academic writing workflow.&lt;/p&gt;

&lt;p&gt;Here is how the end result should look like:&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis08.jpg&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis08_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis09.jpg&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis09_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis10.jpg&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis10_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;All files used here can be &lt;a href=&quot;https://github.com/tibra/ScrivenerToLaTeX&quot;&gt;found on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;citations&quot;&gt;Citations&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;Don’t Repeat Yourself&lt;/em&gt; (DRY) is a common practice among programmers. The basic idea is that having duplicated information about the same thing will mess things up at some point. When writing a thesis, you might have experienced this with citations. In a Word document, you would do something like this:&lt;/p&gt;

&lt;blockquote&gt;
Mayer &amp;amp; Moreno (2002) argue that computer-based learning environments can help improving student understanding.
&lt;/blockquote&gt;

&lt;p&gt;Then in your bibliography index you add&lt;/p&gt;

&lt;blockquote&gt;
Mayer, R. E. &amp;amp; Moreno, R. (2002). Aids to computer-based multimedia learning. Learning and Instruction (12), 107-119.
&lt;/blockquote&gt;

&lt;p&gt;At some point you decide to throw out that top sentence. But in your bibliography index you will still find the entry for Mayer and Moreno. And what will happen when you decide to change your citation style from APA to Harvard or something else? There is no technical relationship between the two and you will have to fix everything by search and replace or by hand.&lt;/p&gt;

&lt;h3 id=&quot;introducing-bibdesk-and-citekeys&quot;&gt;Introducing BibDesk and Citekeys&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://bibdesk.sourceforge.net/&quot;&gt;BibDesk&lt;/a&gt; is an open-source bibliography manager for the Mac. It has a clean and simple interface. Every book, article or website that is important for your thesis, you put into BibDesk with a new entry and a unique &lt;em&gt;citekey&lt;/em&gt;. My citekeys look like this:&lt;/p&gt;

&lt;blockquote&gt;
Mayer_2002
&lt;br /&gt;
Jonassen_2004b
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis01.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis01_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;using-citekeys-in-scrivener&quot;&gt;Using citekeys in Scrivener&lt;/h3&gt;

&lt;p&gt;In Scrivener we can write in &lt;a href=&quot;http://fletcherpenney.net/multimarkdown/&quot;&gt;MultiMarkdown (MMD)&lt;/a&gt; to link our citations to an unqiue entry in our BibDesk &lt;em&gt;*.bib&lt;/em&gt; file.&lt;/p&gt;

&lt;blockquote&gt;
[#Mayer_2002;] argue that computer-based learning environments can help improving student understanding.
&lt;/blockquote&gt;

&lt;p&gt;This will later be formatted nicely to match a certain style like APA, Harvard &amp;amp; co. You can use your citekey as shown above by putting it into square brackets after a hash symbol like &lt;em&gt;[#mycitekey]&lt;/em&gt;. If you use an inline citation, in the current version 3.2 of MMD, you have to put a semicolon behind your key inside the brackets like &lt;em&gt;[#mycitekey;]&lt;/em&gt;. Here are some more examples:&lt;/p&gt;

&lt;blockquote&gt;
Computer-based learning environments can help improving student understanding[#Mayer_2002].

[P. 108][#Mayer_2002;] notes: &quot;Computer-based multimedia learning environments — consisting of pictures (such as animation) and words (such as narration) — offer a potentially powerful venue for improving student understanding.&quot;

&quot;Computer-based multimedia learning environments — consisting of pictures (such as animation) and words (such as narration) — offer a potentially powerful venue for improving student understanding&quot;[P. 108][#Mayer_2002].
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Update, 08.04.2014:&lt;/em&gt; I’ve written a &lt;a href=&quot;http://timbrandes.com/blog/2014/04/08/optimize-bibdesk-multimarkdown-and-scrivener-for-a-nice-scientific-bibliography-and-citation-workflow/&quot;&gt;follow up article on multimarkdown citations and optimizing the BibDesk workflow&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For more information about MMD 3 and citations, see &lt;a href=&quot;http://fletcher.github.com/peg-multimarkdown/&quot;&gt;the parapraph about Citations in the MMD Guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Please note that you’ll have to install MMD 3 *and* its support files. By default, Scrivener 2.2 will use MMD 2 which won’t support the above syntax. It took me four hours to discover that. Basically, you will have to download and install MultiMarkdown-Support-Mac-….pkg.zip into your users ~/Library/Application Support/MultiMarkdown/ directory.&lt;/em&gt; Thanks to Neil Ernst who explains &lt;a href=&quot;http://neilernst.net/2011/07/27/writing-complex-latex-documents-with-scrivener-2-1-and-multimarkdown-3/&quot;&gt;in more detail in his blog post&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;organize-your-document-in-scrivener&quot;&gt;Organize your document in Scrivener&lt;/h2&gt;

&lt;p&gt;Putting your document together in Scrivener is very straightforward. Begin with a new blank project. I like organizing my chapters with folders as first level headers in which I put second and third level chapters.&lt;/p&gt;

&lt;p&gt;Here is a sample that shows my structure for a sample document:&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis02.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis02_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;integrate-bibdesk&quot;&gt;Integrate BibDesk&lt;/h3&gt;

&lt;p&gt;In Scrivener settings (&lt;em&gt;Scrivener-&amp;gt;Settings-&amp;gt;General Tab&lt;/em&gt;) under “Bibliography Manager” pick the BibDesk Application to tell Scrivener what to open when you hit your bibliography shortcut CMD+Y within Scrivener.&lt;/p&gt;

&lt;h3 id=&quot;use-citations&quot;&gt;Use Citations&lt;/h3&gt;

&lt;p&gt;Now let’s go and make a reference to a citekey. I added the article to BibDesk and gave it the citekey “Mayer_2002”. Now in Scrivener I simply embed it into my text like the following. Make sure to save your BibDesk file (best place is the same directory as your Scrivener file).&lt;/p&gt;

&lt;blockquote&gt;
To achieve this, [#Mayer_2002;] mentions it would be necessary to have uniform grammar, pronunciation and more common words.
&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis03.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis03_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis04.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis04_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;compile-the-multimarkdown-into-latex&quot;&gt;Compile the MultiMarkdown into LaTeX&lt;/h2&gt;

&lt;p&gt;At the moment, all we have is a Scrivener file with some MMD flavoured syntax. To generate a PDF from a LaTeX file we first have to generate a LaTeX file. This process is called &lt;em&gt;compiling&lt;/em&gt;. In Scrivener, head over to &lt;em&gt;File-&amp;gt;Compile…&lt;/em&gt; (ALT+CMD+E). Change “Compile For: Print” at the bottom to “Compile For: MultiMarkdown -&amp;gt; LaTeX”. Under Formatting, check the “Title” checkboxes for every level if you want all to be part of your document (see second screenshot). Now comes the part every Scrivener to LaTeX tutorial I found was outdated. Before Scrivener 2, the Meta-Data settings were in some settings menu, now they are in the Compile window under “Meta-Data”. Meta-Data is important because it will include commands into the LaTeX file that gets saved. Scrivener will only output the plain text (in a structured way for LaTeX) but not any specific information about your thesis like your citation style or title page. Add the following Meta-Data key-value pairs as shown in the third screenshot like this:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: make sure you have the exact order and spelling! latex-input has to be at the very bottom!&lt;/em&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Key&lt;/span&gt;                       &lt;span class=&quot;no&quot;&gt;Value&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Level&lt;/span&gt;         &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;BibTeX&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;literature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;bib&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;latex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;footer&lt;/span&gt;              &lt;span class=&quot;n&quot;&gt;my&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thesis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;footer&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Bibliostyle&lt;/span&gt;               &lt;span class=&quot;n&quot;&gt;apacite&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;harvard&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Author&lt;/span&gt;                    &lt;span class=&quot;no&quot;&gt;Tim&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Brandes&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Quotes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;language&lt;/span&gt;           &lt;span class=&quot;n&quot;&gt;german&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;something&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;latex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;               &lt;span class=&quot;n&quot;&gt;my&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thesis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So here is the explanation for the values. Base Header Level will tell LaTeX how you want your folder-file structure from Scrivener to be translated into chapters. Play around with 1, 2 and 3 and compare results. BibTeX (note spelling) references your literature.bib (or your naming of it) file. latex footer is a file called my-thesis-footer.tex we create and put into the same directory. This file includes everything that is at the very bottom of your latex document like your bibliography index. Bibliostyle can also be managed later in the my-thesis-input.tex file but we do it here for convenience. For more options, see &lt;a href=&quot;http://amath.colorado.edu/documentation/LaTeX/reference/faq/bibstyles.pdf&quot;&gt;this bibstyles.pdf file&lt;/a&gt;. Author and Quotes language should be clear and latex-input will be the document that we will create in a minute called my-thesis-input.tex which will include our &lt;a href=&quot;http://www.artofproblemsolving.com/Wiki/index.php/LaTeX:Layout&quot;&gt;LaTeX-Preamble&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis05.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis05_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis07.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis07_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis06.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis06_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;Now press “Compile” and save the document into your thesis directory where your .bib file is.&lt;/p&gt;

&lt;h3 id=&quot;my-thesis-input-and-my-thesis-footer&quot;&gt;my-thesis-input and my-thesis-footer&lt;/h3&gt;

&lt;p&gt;Before we generate the PDF we have to make two new files that we reference as our input (which is really more a header but the header meta-data seems to be broken) and footer file. Here is &lt;a href=&quot;https://gist.github.com/1935325&quot;&gt;the input (preamble) file&lt;/a&gt; and here is &lt;a href=&quot;https://gist.github.com/1935333&quot;&gt;the footer file&lt;/a&gt;. Drop those two files into your directory where your Scrivener file is.&lt;/p&gt;

&lt;h2 id=&quot;make-the-pdf&quot;&gt;Make the PDF&lt;/h2&gt;

&lt;p&gt;Now it is only the PDF that is left to be generated from our LaTeX file. Make sure you have installed the &lt;a href=&quot;http://www.tug.org/mactex/2011/&quot;&gt;MacTeX-Bundle&lt;/a&gt; or similar. Iuse TextMate’s LaTeX Bundle to typeset my PDF files. Open the thesis.tex file in TexShop or TextMate and click “Set LaTeX” once, then click “Set BibTex” and click “Set LaTeX” twice more. Without any errors messages, you should now find eight more files next to your thesis.tex file. One of them is a pdf that should look like this:&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2012-02-thesis08.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis08_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis09.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis09_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2012-02-thesis10.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2012-02-thesis10_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;Of course, everytime you have a change in your text, all you have to do is compile from Scrivener and typeset the LaTeX in TextMate or TeXShop into your PDF. The whole setup process described here is basically just a one time thing.&lt;/p&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;p&gt;The project with all documents used and generated can be &lt;a href=&quot;https://github.com/tibra/ScrivenerToLaTeX&quot;&gt;found on GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.aidanfindlater.com/citations-with-scrivener-multimarkdown-bibdesk-and-texshop&quot;&gt;Citations with Scrivener, MultiMarkDown, BibDesk, and TeXShop&lt;/a&gt;
&lt;a href=&quot;http://neilernst.net/2011/07/27/writing-complex-latex-documents-with-scrivener-2-1-and-multimarkdown-3/&quot;&gt;Writing Complex Latex Documents with Scrivener 2.1 and MultiMarkDown 3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Great series of screencasts:
&lt;a href=&quot;http://www.macosxscreencasts.com/general/scrivener-tutorial-1-setup-mmd-und-latex/&quot;&gt;Scrivener Tutorial 1: Setup, MMD And LaTeX&lt;/a&gt;
&lt;a href=&quot;http://www.macosxscreencasts.com/?s=scrivener&amp;amp;x=0&amp;amp;y=0&quot;&gt;…and more of them&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Follow up blog post on Multimarkdown citations:
&lt;a href=&quot;http://timbrandes.com/blog/2014/04/08/optimize-bibdesk-multimarkdown-and-scrivener-for-a-nice-scientific-bibliography-and-citation-workflow/&quot;&gt;Optimize BibDesk, Multimarkdown and Scrivener for a nice scientific bibliography and citation workflow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Enjoy writing your papers!&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">The pros and cons of LaTeX</summary></entry><entry><title type="html">Making the RVM web site responsive with CSS3 media queries</title><link href="/guide/2011/06/21/making-the-rvm-web-site-responsive-with-css3-media-queries/" rel="alternate" type="text/html" title="Making the RVM web site responsive with CSS3 media queries" /><published>2011-06-21T01:38:00+02:00</published><updated>2011-06-21T01:38:00+02:00</updated><id>/guide/2011/06/21/making-the-rvm-web-site-responsive-with-css3-media-queries</id><content type="html" xml:base="/guide/2011/06/21/making-the-rvm-web-site-responsive-with-css3-media-queries/">&lt;p&gt;So, you might have heard of this shiny new book by &lt;a href=&quot;http://ethanmarcotte.com/&quot;&gt;Ethan Marcotte&lt;/a&gt; called &lt;a href=&quot;http://www.abookapart.com/products/responsive-web-design&quot;&gt;Responsive Web Design&lt;/a&gt;. The basic idea is to make one web site and let it respond differently to the screen size of the user. We use three ingredients to do so&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A Flexible Grid&lt;/li&gt;
  &lt;li&gt;Flexible Images&lt;/li&gt;
  &lt;li&gt;CSS3 Media Queries&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;ss&quot;&gt;tibra: &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;have&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;more&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixel&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;tibra: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;it&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smaller&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;768&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;tibra: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;watch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;header&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boxes&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;wayneeseguin: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;wayneeseguin: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;holy&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shit&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;did&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;you&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;that&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;wayneeseguin: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;totally&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fucking&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;awesome&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;a-flexible-grid&quot;&gt;A Flexible Grid&lt;/h1&gt;

&lt;p&gt;The idea behind a flexible grid is to consequently use percentages and em’s in favor of fixed pixels. The &lt;a href=&quot;https://rvm.beginrescueend.com&quot;&gt;RVM web site&lt;/a&gt; already had the main content area as a percentage sized width. However, the header area still uses fixed width boxes of 220px.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite2.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite2_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;Mixing pixels and percentages leads to some ugliness when resizing the browser window and making it shorter. But is this &lt;em&gt;really&lt;/em&gt; a problem for coders? How often do we use a documentary site on a small screen or with a very small browser window? I think the problem lies on the other side of the universe: high resolution screens.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite3.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite3_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite4.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite4_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;p&gt;As you can see, there is the documentation index on the bottom of the site. The content area takes up all the space and stretches its text far too wide. When I did this design about a year ago, I didn’t consider this usability/readability issue. Now let’s go and see how a flexible grid can help us with the header and those boxes on top.&lt;/p&gt;

&lt;p&gt;Except for the wider sponsors box, all boxes inherit the same basic style from a compass mixin:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;vi&quot;&gt;@mixin&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt; 
    &lt;span class=&quot;ss&quot;&gt;float: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;right: &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And then we simply use it on a selector, here the recommend and irc boxes:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;#recommend, #irc&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@include&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;box&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So, that’s just floating divs with a width and a margin that is a percentage value. Pretty easy and works as expected.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite5.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite5_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;flexible-images&quot;&gt;Flexible Images&lt;/h1&gt;

&lt;p&gt;We have four images in the head area and our “w00t! RVM! TENNNGH! RUBYYYYYYYYYY! CRUNCH“ image that’s greeting us welcome. Our best friend with flexible images is &lt;em&gt;max-width: 100%&lt;/em&gt;. This attribute makes sure images adapt to their parents container size even if they are bigger. We let the browser resize the images dynamically and hope for some smooth rendering (good browsers will give you that). Here is how the logo is styled:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;#logo&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;align: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;center&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;height: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;px&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And the haml view looks like this&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;#logo&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:href&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:src&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/images/logo.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:alt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;RVM Logo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I have added the &lt;em&gt;max-height: 170px&lt;/em&gt; after some testing with resizing the browser window. If you don’t specify any &lt;em&gt;max-height&lt;/em&gt; the logo will become bigger and bigger until it hits the original file size. I left the logo.png untouched and gave it some height constraints instead.
The “w00t! RVM!…“-image looks just as simple as this:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;c1&quot;&gt;#content&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And here is the result on big and small browser windows:&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite6.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite6_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite7.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite7_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;css3-media-queries&quot;&gt;CSS3 Media Queries&lt;/h1&gt;

&lt;p&gt;While this is all well and good so far, the real power becomes visible when we introduce CSS3 Media Queries. 
The last screenshot already has some media queries in use (see the long text from before in those boxes on top? No? Me neither :)).&lt;/p&gt;

&lt;p&gt;But don’t you find that there is still too much whitespace in the content area? Wouldn’t it be great if we could simply move the big &lt;em&gt;Documentation Index&lt;/em&gt; from the bottom of the page to the right and float it &lt;em&gt;next to&lt;/em&gt; the content area? This way, widescreen users could really benefit from their screen size and scrolling down would only be necessary if we were on a smaller screen. You might have guessed it already: Media Queries - that’s what they’re here for.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite8.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite8_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;how-do-we-include-media-queries&quot;&gt;How do we include Media Queries?&lt;/h2&gt;

&lt;p&gt;Media Queries allow us to change the style depending on the users screen size. We simply include them into our normal stylesheet like this:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;vi&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;768&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;everything&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smaller&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;768&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;px&lt;/span&gt;

  &lt;span class=&quot;vi&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wide&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;let-it-float-baby&quot;&gt;Let it float, baby&lt;/h2&gt;

&lt;p&gt;Now, this code is all it takes to make it happen:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;  &lt;span class=&quot;vi&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;screen&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#content&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;float: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;left&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;bottom: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#docindex&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;float: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;right&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;docindex&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;display: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;none&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And as a little bonus, we hide the link to the &lt;em&gt;Documentation Index&lt;/em&gt; at the top of the content area.&lt;/p&gt;

&lt;blockquote&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite10.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite10_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;a href=&quot;/assets/2011-06-rvmsite9.jpg&quot; class=&quot;lightbox&quot;&gt;&lt;img src=&quot;/assets/2011-06-rvmsite9_p.jpg&quot; /&gt;&lt;/a&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;see-it-live&quot;&gt;See it live&lt;/h1&gt;

&lt;p&gt;Wayne has already &lt;a href=&quot;https://rvm.beginrescueend.com&quot;&gt;deployed the new version&lt;/a&gt;, be sure to check it out! I hope you find this useful and you are encouraged to make some responsive designs yourself. I believe it’s the future. If you can imagine a way to make this better, find the &lt;a href=&quot;https://github.com/wayneeseguin/rvm-site&quot;&gt;RVM website on Github&lt;/a&gt; and start hacking!&lt;/p&gt;</content><author><name></name></author><summary type="html">So, you might have heard of this shiny new book by Ethan Marcotte called Responsive Web Design. The basic idea is to make one web site and let it respond differently to the screen size of the user. We use three ingredients to do so</summary></entry></feed>